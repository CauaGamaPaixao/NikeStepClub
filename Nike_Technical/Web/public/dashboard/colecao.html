<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="colecaoStyle.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Radio+Canada+Big:ital,wght@0,400..700;1,400..700&display=swap"
        rel="stylesheet">
</head>

<body>

    <div class="colecao">
        <div class="caixa">
            <div class="caixaTitulo">
                <span>MONTE A SUA <b style="color: #D3AF37;">COLEÇÃO</b></span>
            </div>
            <div class="caixaGrid">
                <div class="cardGrid">
                    <div class="cardTitulo">Jordan 4 “University Blue”</div>
                    <div class="cardConteudo">
                        <div class="cardImagem"><img src="assets/Jordan4UniBlue.png" alt="" width="220px"></div>
                        <input id="jordan_jordan4uniblue" type="checkbox" name="selecao">
                    </div>
                    <div class="cardTitulo">Nike Kobe 6 Protro “Grinch Green Apple”</div>
                    <div class="cardConteudo">
                        <div class="cardImagem"><img src="assets/KobeGrinch.png" alt="" width="220px"></div>
                        <input id="nike_kobe6" type="checkbox" name="selecao">
                    </div>
                    <div class="cardTitulo">Nike Ja 1 “Red Stardust”</div>
                    <div class="cardConteudo">
                        <div class="cardImagem"><img src="assets/NikeJA1.png" alt="" width="220px"></div>
                        <input id="nike_ja1" type="checkbox" name="selecao">
                    </div>
                </div>

                <div class="cardGrid">
                    <div class="cardTitulo">Nike Air Zoom Alphafly 6 “Coconut Milk”</div>
                    <div class="cardConteudo">
                        <div class="cardImagem"><img src="assets/NikeAlphafly.png" alt="" width="220px"></div>
                        <input id="nike_airzoomalpha" type="checkbox" name="selecao">
                    </div>
                    <div class="cardTitulo">Air Max 95 “Neon Yellow”</div>
                    <div class="cardConteudo">
                        <div class="cardImagem"><img src="assets/AirMax95.png" alt="" width="220px"></div>
                        <input id="nike_arimaxneon" type="checkbox" name="selecao">
                    </div>
                    <div class="cardTitulo">Nike Air Zoom Pegasus “Orange Crimson”</div>
                    <div class="cardConteudo">
                        <div class="cardImagem"><img src="assets/AirZoom.png" alt="" width="220px"></div>
                        <input id="nike_airzoompegasus" type="checkbox" name="selecao">
                    </div>
                </div>

                <div class="cardGrid">
                    <div class="cardTitulo">Air Jordan 3 “Fire Red”</div>
                    <div class="cardConteudo">
                        <div class="cardImagem"><img src="assets/AirJordan3.png" alt="" width="190px"></div>
                        <input id="jordan_jordan3firered" type="checkbox" name="selecao">
                    </div>
                    <div class="cardTitulo">Air Jordan 4 “Thunder”</div>
                    <div class="cardConteudo">
                        <div class="cardImagem"><img src="assets/AirJordan4Thunder.png" alt="" width="190px"></div>
                        <input id="jordan_jordan4thunder" type="checkbox" name="selecao">
                    </div>
                    <div class="cardTitulo">Nike Air Max TW “Racer Blue”</div>
                    <div class="cardConteudo">
                        <div class="cardImagem"><img src="assets/AirMaxTW.png" alt="" width="220px"></div>
                        <input id="nike_airmaxtw" type="checkbox" name="selecao">
                    </div>
                </div>

                <div class="cardGrid">
                    <div class="cardTitulo">Air Jordan 1 Low “Reverse Mocha”</div>
                    <div class="cardConteudo">
                        <div class="cardImagem"><img src="assets/AirJordan1ReverseMocha.png" alt="" width="220px"></div>
                        <input id="jordan_airjordan1low" type="checkbox" name="selecao">
                    </div>
                    <div class="cardTitulo">NOCTA x Nike Hot Step 2 “Total White “</div>
                    <div class="cardConteudo">
                        <div class="cardImagem"><img src="assets/NikeHotStep2.png" alt="" width="220px"></div>
                        <input id="nike_hotstep" type="checkbox" name="selecao">
                    </div>
                    <div class="cardTitulo">Air Jordan 1 High “Bred Toe”</div>
                    <div class="cardConteudo">
                        <div class="cardImagem"><img src="assets/AirJordan1BredToe.png" alt="" width="220px"></div>
                        <input id="jordan_jordan1high" type="checkbox" name="selecao">
                    </div>
                </div>
            </div>
            <div class="botoes">
                <button id="botaoMontar" class="button" onclick="montar()">Montar Coleção</button>
                <a href="dashboard.html"><button id="botaoDashboard" class="button"
                        onclick="dashboard()">Dashboard</button></a>
            </div>
            <br>
            <div class="mensagemColecao" id="div_mensagem"></div>
            <br>
        </div>
    </div>
</body>

</html>


<script>
    document.getElementById('botaoDashboard').disabled = true;

    // Valores dos Tênis
    var valorJordan4UniBlue = 2000;
    var valorNikeKobe06 = 4000;
    var valorNikeJA1 = 1200;
    var valorNikeAirZoomAlpha = 1700;
    var valorNikeAirMaxNeon = 1400;
    var valorNikeAirZoomPegasus = 2400;
    var valorJordan3FireRed = 1300;
    var valorJordan4Thunder = 1700;
    var valorNikeAirMaxTW = 1700;
    var valorJordan1Low = 9000;
    var valorNikeHotStep = 1700;
    var valorJordan1High = 3000;
    // ID dos Tênis
    var Jordan4UniBlue = 1;
    var NikeKobe06 = 2;
    var NikeJA1 = 3;
    var NikeAirZoomAlpha = 4;
    var NikeAirMaxNeon = 5;
    var NikeAirZoomPegasus = 6;
    var Jordan3FireRed = 7;
    var Jordan4Thunder = 8;
    var NikeAirMaxTW = 9;
    var Jordan1Low = 10;
    var NikeHotStep = 11;
    var Jordan1High = 12;

    var mensagem = ``;
    var mensagemRelatorio = ``;
    var valorTotal = 0;

    var listaModelos = [];
    var colecao = [];
    var modelos = ``;

    var idUser = sessionStorage.ID_USUARIO;

    function montar() {
        var limiteSelecoes = 0
        if (!jordan_jordan4uniblue.checked &&
            !nike_kobe6.checked &&
            !nike_ja1.checked &&
            !nike_airzoomalpha.checked &&
            !nike_arimaxneon.checked &&
            !nike_airzoompegasus.checked &&
            !jordan_jordan3firered.checked &&
            !jordan_jordan4thunder.checked &&
            !nike_airmaxtw.checked &&
            !nike_airmaxtw.checked &&
            !jordan_airjordan1low.checked &&
            !nike_hotstep.checked &&
            !jordan_jordan1high.checked) {
            div_mensagem.innerHTML = `Selecione pelo menos <b style="color: #D3AF37">um</b> modelo para a sua<b style="color: #D3AF37"> coleção</b>!`
        }
        else {
            if (jordan_jordan4uniblue.checked) {
                listaModelos.push(Jordan4UniBlue)
                mensagem += `<b style="color: #D3AF37">Jordan 4 University Blue</b> adicionado a coleção<br>`
                valorTotal += valorJordan4UniBlue;
                limiteSelecoes++;
            };
            if (nike_kobe6.checked) {
                listaModelos.push(NikeKobe06)
                mensagem += `<b style="color: #D3AF37">Kobe 06</b> adicionado a coleção<br>`
                valorTotal += valorNikeKobe06;
                limiteSelecoes++;
            };
            if (nike_ja1.checked) {
                listaModelos.push(NikeJA1)
                mensagem += `<b style="color: #D3AF37">Nike JA1</b> adicionado a coleção<br>`
                valorTotal += valorNikeJA1;
                limiteSelecoes++;
            };
            if (nike_airzoomalpha.checked) {
                listaModelos.push(NikeAirZoomAlpha)
                mensagem += `<b style="color: #D3AF37">Nike Air Zoom Alphafly</b> adicionado a coleção<br>`
                valorTotal += valorNikeAirZoomAlpha;
                limiteSelecoes++;
            };
            if (nike_arimaxneon.checked) {
                listaModelos.push(NikeAirMaxNeon)
                mensagem += `<b style="color: #D3AF37">Nike Air Max Neon Yellow</b> adicionado a coleção<br>`
                valorTotal += valorNikeAirMaxNeon;
                limiteSelecoes++;
            };
            if (nike_airzoompegasus.checked) {
                listaModelos.push(NikeAirZoomPegasus)
                mensagem += `<b style="color: #D3AF37">Nike Air Zoom Pegasus</b> adicionado a coleção<br>`
                valorTotal += valorNikeAirZoomPegasus;
                limiteSelecoes++;
            };
            if (jordan_jordan3firered.checked) {
                listaModelos.push(Jordan3FireRed)
                mensagem += `<b style="color: #D3AF37">Jordan 3 Fire Red</b> adicionado a coleção<br>`
                valorTotal += valorJordan3FireRed;
                limiteSelecoes++;
            };
            if (jordan_jordan4thunder.checked) {
                listaModelos.push(Jordan4Thunder)
                mensagem += `<b style="color: #D3AF37">Jordan 4 Thunder</b> adicionado a coleção<br>`
                valorTotal += valorJordan4Thunder;
                limiteSelecoes++;
            };
            if (nike_airmaxtw.checked) {
                listaModelos.push(NikeAirMaxTW)
                mensagem += `<b style="color: #D3AF37">Air Max TW</b> adicionado a coleção<br>`
                valorTotal += valorNikeAirMaxTW;
                limiteSelecoes++;
            };
            if (jordan_airjordan1low.checked) {
                listaModelos.push(Jordan1Low)
                mensagem += `<b style="color: #D3AF37">Jordan 1 Low</b> adicionado a coleção<br>`
                valorTotal += valorJordan1Low;
                limiteSelecoes++;
            };
            if (nike_hotstep.checked) {
                listaModelos.push(NikeHotStep)
                mensagem += `<b style="color: #D3AF37">Nike Hot Step</b> adicionado a coleção<br>`
                valorTotal += valorNikeHotStep;
                limiteSelecoes++;
            };
            if (jordan_jordan1high.checked) {
                listaModelos.push(Jordan1High)
                mensagem += `<b style="color: #D3AF37">Jordan 1 High</b> adicionado a coleção<br>`
                valorTotal += valorJordan1High;
                limiteSelecoes++;
            };
            if (limiteSelecoes != 5){
                listaModelos = [];
                mensagem = ``
                alert(`Você deve selecionar 5 modelos`)
            } else {
                div_mensagem.innerHTML = mensagem;
                document.getElementById('botaoMontar').disabled = true;
                document.getElementById('botaoDashboard').disabled = false;
                console.log(listaModelos)
                colecao = [idUser, listaModelos];
                modelos = colecao[1];
            }


            
        }
    }

    

    var instrucao = ``;
    var listaInstrucao = [];
    


    function dashboard() {
        console.log(colecao)
        console.log(modelos);
        for (var i = 0; i < modelos.length; i++) {
            listaInstrucao.push(`(${idUser}, ${idUser}, ${modelos[i]})`)
        }

        instrucao += `${listaInstrucao};`
        console.log(instrucao)

        fetch("/usuarios/inserirModelos", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify({
                // crie um atributo que recebe o valor recuperado aqui
                // Agora vá para o arquivo routes/usuario.js
                instrucaoServer: instrucao,
                idUserServer: idUser
            }),
        })
            .then(function (resposta) {
                console.log("resposta: ", resposta);
            })
            .catch(function (resposta) {
                console.log(`#ERRO: ${resposta}`);

            });

        return false;
    }




</script>